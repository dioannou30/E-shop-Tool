<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <!-- Fav Icon -->
    <link rel="icon" type="image/png" href="http://www.google.com/s2/favicons?domain=www.e-shop.gr">
    <title>E-Shop.gr Tool</title>
    <!-- Vue JS CDN -->
    <script src="https://unpkg.com/vue@2.0.5/dist/vue.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="ha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
    <style type="text/css">
    body {
        background-color: teal;
        font-family: 'Ubuntu', sans-serif;
    }

    .container {
        margin-top: 30px;
    }
    .tableRow {
    	margin-top: 20px;
    }
    td {
  		white-space: normal !important;
  		word-wrap: break-word;
	}
    strong {
        font-size: 20px;
    }
    </style>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3 text-center">
                <h2>Used Product Finder</h2>
            </div>
        </div><!-- End 1st Row -->
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <form onsubmit="myFunction()">
                    <div class="form-group">
                        <label for="codeInput">Product Code</label>
                        <input type="text" class="form-control" id="codeInput" placeholder="Product Code" required>
                    </div>
                    <div class="form-group">
                        <label for="serialInput">Serial Number</label>
                        <input type="text" class="form-control" id="serialInput" placeholder="Serial Number" required>
                    </div>
                    <button type="submit" class="btn btn-default btn-block">Find</button>
                </form><!-- End Form -->
            </div>
        </div><!-- End 2n Row -->
        <div class="row tableRow" id="calc">
            <div class="col-md-6 col-md-offset-3">
            	<h2 class="text-center">Converter</h2>
            	<table class="table">
		     		<tbody>
            			<tr>
            				<th class="col-sm-1">
            					<div class="input-group">
								  <span class="input-group-addon">Inches</span>
								  <input type="text" class="form-control" v-model="inch1">
								</div>
							</th>
            				<td class="col-sm-1 text-center"><strong>{{inch1 | toMM }}</strong></td>
            			</tr>
                        <tr>
            				<th class="col-sm-1">
            					<div class="input-group">
								  <span class="input-group-addon">Inches</span>
								  <input type="text" class="form-control" v-model="inch2">
								</div>
							</th>
            				<td class="col-sm-1 text-center"><strong>{{inch2 | toMM }}</strong></td>
            			</tr>
                        <tr>
            				<th class="col-sm-1">
            					<div class="input-group">
								  <span class="input-group-addon">Inches</span>
								  <input type="text" class="form-control" v-model="inch3">
								</div>
							</th>
            				<td class="col-sm-1 text-center"><strong>{{inch3 | toMM }}</strong></td>
            			</tr>
            		</tbody>
            	</table>
            	<table class="table">
            		<tbody>
            			<tr>
            				<th class="col-sm-1">
            					<div class="input-group">
								  <span class="input-group-addon">Libres</span>
								  <input type="text" class="form-control" v-model="lib">
								</div>
							</th>
            				<td class="col-sm-1 text-center"><strong>{{ lib | toKG }}</strong></td>
            			</tr>
            		</tbody>
            	</table>
            </div>
            <div class="col-md-2 col-md-offset-8"><button id='clear' type="button" class="btn btn-secondary btn-sm" v-on:click='clearBoxes'>Clear Boxes</button></div>            
        </div><!-- End 3rd Row -->
    </div><!-- End Container -->
    <script type="text/javascript">
    function myFunction() {
        var prodCode = $('#codeInput').val();
        var prodSerial = $('#serialInput').val();
        window.open('http://www.e-shop.gr/show_used.phtml?id=' + prodCode + '&oem=' + prodSerial, '_blank');
    }
    new Vue({
    	el: '#calc',
    	data: {
    		lib: '',
    		inch1: '',
    		inch2: '',
            inch3: '',
    	},
    	filters: {
            toMM: function(value){
                if (!value || isNaN(value)){
                    return "Enter a valid number";
                }else{
                    return (parseFloat(value) * 2.54).toFixed(2) + ' ' + 'mm';
                }
            },
            toKG: function(value){
                if (!value || isNaN(value)){
                    return "Enter a valid number";
                }else{
                    return (parseFloat(value) * 0.45359237).toFixed(2) + ' ' + 'kg';
                }
            }
        },
        methods: {
            clearBoxes: function(event){
                this.inch1 = '';
                this.inch2 = '';
                this.inch3 = '';
                this.lib = '';
            }
        }
    });
    </script>
</body>

</html>
<!-- <input v-on:keyup.enter="submit"> -->
